<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><title>Setup</title><link rel="stylesheet" type="text/css" href="scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="racket.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-racket.css" title="default"/><script type="text/javascript" src="scribble-common.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="scribble-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="" class="tocviewselflink" data-pltdoc="x">Setup</a></td></tr></table></div><div class="tocviewsublistonly" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="#%28part._.Base_components%29" class="tocviewlink" data-pltdoc="x">Base components</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="#%28part._.Running_the_downloader%29" class="tocviewlink" data-pltdoc="x">Running the downloader</a></td></tr></table></div></div></div><div class="tocsub"><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber"></span><a href="#%28part._.Setup%29" class="tocsubseclink" data-pltdoc="x">Setup</a></td></tr><tr><td><span class="tocsublinknumber">1<tt>&nbsp;</tt></span><a href="#%28part._.Base_components%29" class="tocsubseclink" data-pltdoc="x">Base components</a></td></tr><tr><td><span class="tocsublinknumber">1.1<tt>&nbsp;</tt></span><a href="#%28part._downloads%29" class="tocsubseclink" data-pltdoc="x">downloads</a></td></tr><tr><td><span class="tocsublinknumber">1.2<tt>&nbsp;</tt></span><a href="#%28part._user-rss-url%29" class="tocsubseclink" data-pltdoc="x">user-<wbr></wbr>rss-<wbr></wbr>url</a></td></tr><tr><td><span class="tocsublinknumber">1.3<tt>&nbsp;</tt></span><a href="#%28part._user-base-path%29" class="tocsubseclink" data-pltdoc="x">user-<wbr></wbr>base-<wbr></wbr>path</a></td></tr><tr><td><span class="tocsublinknumber">2<tt>&nbsp;</tt></span><a href="#%28part._.Running_the_downloader%29" class="tocsubseclink" data-pltdoc="x">Running the downloader</a></td></tr><tr><td><span class="tocsublinknumber">2.1<tt>&nbsp;</tt></span><a href="#%28part._.Without_compiling%29" class="tocsubseclink" data-pltdoc="x">Without compiling</a></td></tr><tr><td><span class="tocsublinknumber">2.2<tt>&nbsp;</tt></span><a href="#%28part._.Compiling_a_binary%29" class="tocsubseclink" data-pltdoc="x">Compiling a binary</a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="versionbox"><span class="versionNoNav">6.0</span></div><h2><a name="(part._.Setup)"></a>Setup</h2><p>Every bit of configuration is to be done in the file <span style="font-weight: bold">&rsquo;configuration.rkt&rsquo;</span>. This file is imported in <span style="font-weight: bold">&rsquo;download.rkt&rsquo;</span>.</p><h3>1<tt>&nbsp;</tt><a name="(part._.Base_components)"></a>Base components</h3><p>These are the basic contents of the file that need to be defined exactly as follows. This is so that the right symbols are exported so they can be used in other files.</p><blockquote class="SCodeFlow"><table cellspacing="0" class="RktBlk"><tr><td><span class="RktMeta">#lang</span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><a href="file:///home/gonz/racket/doc/reference/index.html" class="RktModLink" data-pltdoc="x"><span class="RktSym">racket/base</span></a><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta">&#160;</span></td></tr><tr><td><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="file:///home/gonz/racket/doc/reference/require.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._provide%29%29" class="RktStxLink" data-pltdoc="x">provide</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">downloads</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktSym">user-rss-url</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktSym">user-base-path</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr></table></blockquote><h4>1.1<tt>&nbsp;</tt><a name="(part._downloads)"></a>downloads</h4><p>This variable is a list of pairs. The left part (or &rsquo;car&rsquo;) of the cell contains the name you want to give the show. This has no bearing on anything at the moment, but is shown here because it makes it fairly readable.</p><p>The right part (or cdr) of the cell contains a perl regular expression. The leading <span style="font-weight: bold">#px</span> tells Racket that it is in fact a <a href="http://www.anaesthetist.com/mnm/perl/regex.htm">Perl Regular Expression</a> and not a <a href="http://www.regular-expressions.info/posix.html">POSIX Regular Expression</a>. This doesn&rsquo;t matter, as the matching function (<span class="RktSym"><a href="file:///home/gonz/racket/doc/reference/regexp.html#%28def._%28%28quote._~23~25kernel%29._regexp-match%29%29" class="RktValLink" data-pltdoc="x">regexp-match</a></span>) can use both, so you can replace the <span style="font-weight: bold">#px</span> with <span style="font-weight: bold">#rx</span> if you feel like it. Note, though, that the shorthands (\\d for digits) used in the examples are only available in perl regexes.</p><p><div class="SIntrapara">Example:
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="file:///home/gonz/racket/doc/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">downloads</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><a href="file:///home/gonz/racket/doc/reference/pairs.html#%28def._%28%28quote._~23~25kernel%29._list%29%29" class="RktValLink" data-pltdoc="x">list</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><a href="file:///home/gonz/racket/doc/reference/quote.html#%28form._%28%28quote._~23~25kernel%29._quote%29%29" class="RktStxLink" data-pltdoc="x">'</a></span><span class="RktPn">(</span><span class="RktVal">"Community"</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktMeta">.</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">#px"Community.S05E\\d\\d.720p.*"</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr><tr><td><span class="RktMeta"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><a href="file:///home/gonz/racket/doc/reference/quote.html#%28form._%28%28quote._~23~25kernel%29._quote%29%29" class="RktStxLink" data-pltdoc="x">'</a></span><span class="RktPn">(</span><span class="RktVal">"Archer"</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktMeta">.</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">#px"Archer.S05E\\d\\d.720p.*"</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr></table></blockquote></div></p><h4>1.2<tt>&nbsp;</tt><a name="(part._user-rss-url)"></a>user-rss-url</h4><p>The file we want to download from TL has a specific URI for
your user. You can find this in the "Profile" section on the page.</p><p><div class="SIntrapara">Example:
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="file:///home/gonz/racket/doc/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">user-rss-url</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">"http://rss.torrentleech.org/&lt;NUMBERS_AND_LETTERS&gt;"</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr></table></blockquote></div></p><h4>1.3<tt>&nbsp;</tt><a name="(part._user-base-path)"></a>user-base-path</h4><p>This is simply the directory you want to place the downloaded torrent files in. It should optimally point to a directory your torrent client is watching for new files. This way, it will start downloading any torrent that is downloaded through the RSS, allowing fully automated downloads.</p><p><div class="SIntrapara">Example:
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="file:///home/gonz/racket/doc/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">user-base-path</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">"/home/gonz/torrents/torrentfiles/"</span><span class="RktPn">)</span><span class="RktMeta"></span></td></tr></table></blockquote></div></p><h3>2<tt>&nbsp;</tt><a name="(part._.Running_the_downloader)"></a>Running the downloader</h3><p>Running the script/program is just like running any other Racket program and requires no setup beyond the initial personal configuration and downloading the Racket language toolkit.</p><h4>2.1<tt>&nbsp;</tt><a name="(part._.Without_compiling)"></a>Without compiling</h4><p>If you want to run the script directly from the file you can run the downloader like so:</p><blockquote class="SCodeFlow"><table cellspacing="0" class="RktBlk"><tr><td><span class="RktSym">$</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">racket</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">download.rkt</span><span class="RktMeta"></span></td></tr></table></blockquote><p>The program will run in the current terminal window and should be downloading the RSS file immediately.</p><h4>2.2<tt>&nbsp;</tt><a name="(part._.Compiling_a_binary)"></a>Compiling a binary</h4><p>Compiling a binary to run is as simple as running the following command:</p><blockquote class="SCodeFlow"><table cellspacing="0" class="RktBlk"><tr><td><span class="RktSym">$</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">raco</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">exe</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><span class="nobreak">-o</span></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">./rss-downloader</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">download.rkt</span><span class="RktMeta"></span></td></tr></table></blockquote><p>This creates a binary in the current folder called <span style="font-weight: bold">&rsquo;rss-downloader&rsquo;</span> that can be run like this:</p><blockquote class="SCodeFlow"><table cellspacing="0" class="RktBlk"><tr><td><span class="RktSym">$</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">./rss-downloader</span><span class="RktMeta"></span></td></tr></table></blockquote><p>And this will start the program just like it would if it were run without creating the binary.</p></div></div><div id="contextindicator">&nbsp;</div></body></html>